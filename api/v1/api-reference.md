[OpenPass](../../README.md) > [Getting Started with OpenPass](../../getting-started.md) > OpenPass API Reference

# OpenPass API Reference

OpenPass is a streamlined, privacy-focused single sign-on solution that enables users to access content across the open internet with Unified ID 2.0.

For high-level OpenPass information, see [OpenPass](https://github.com/openpass-sso/openpass-docs/blob/main/README.md). For information about getting started, applicable to API and SDK users, see [Getting Started with OpenPass](https://github.com/openpass-sso/openpass-docs/blob/main/getting-started.md).

For more information on Unified ID 2.0, visit [The Trade Desk website](https://www.thetradedesk.com/us/about-us/industry-initiatives/unified-id-solution-2-0).

## Server URLs

- Production: `https://auth.myopenpass.com`
- Staging: `https://auth.stg.myopenpass.com`

## Contact
- Email: [openpass@thetradedesk.com](mailto:openpass@thetradedesk.com)

# Summary

The following table summarizes the endpoints available. Endpoints are grouped by area (for example, well-known configuration endpoints).

|Area|Verb|Route|Description|
|---|---|---|---|
|OIDC Endpoints|GET|[/v1/api/authorize](#get-v1apiauthorize)|Initiates the OpenPass SSO flow with a standard OAuth API call to the authorization server. On success, this endpoint redirects the user to an OpenPass page to complete the authentication process and get access to the content.|
|OIDC Endpoints|POST|[/v1/api/token](#post-v1apitoken)|Exchanges the authorization code for the OpenID Connect ID token and access token to finalize the OpenPass SSO authorization flow.|
|Well-Known Endpoints|GET|[/.well-known/openid-configuration](#get-well-knownopenid-configuration)|Returns the [OpenID Connect](https://github.com/openpass-sso/openpass-docs/blob/main/glossary.md#openid-connect) configuration values for the OpenPass authentication server, from the OpenPass well-known configuration endpoint.|
|Well-Known Endpoints|GET|[/.well-known/jwks](#get-well-knownjwks)|Returns the [JSON Web Key Set (JWKS)](https://github.com/openpass-sso/openpass-docs/blob/main/glossary.md#json-web-key-set) values for the OpenPass authentication server.|
|Well-Known Endpoints|GET|[/.well-known/security.txt](#get-well-knownsecuritytxt)|Gets the `security.txt` file for security researchers.|
|Well-Known Endpoints|GET|[/.well-known/pgp-key](#get-well-knownpgp-key)|Gets the [PGP](https://github.com/openpass-sso/openpass-docs/blob/main/glossary.md#pgp) public key used to validate the signature of the `security.txt` file.|
|Well-Known Endpoints|GET|[/.well-known/open-api-v1](#get-well-knownopen-api-v1)|Gets the OpenPass API V1 specification in YAML format.|

# OIDC Endpoints

## GET /v1/api/authorize

Initiates the OpenPass SSO flow with a standard OAuth API call to the authorization server. On success, this endpoint redirects the user to an OpenPass page to complete the authentication process and get access to the content.

### Authentication

<aside class="success">
This endpoint does not require authentication.
</aside>

### Request

`GET /v1/api/authorize`

#### Parameters

|Name|In|Data Type|Required?|Description|
|---|---|---|---|---|
|`client_id`|query|string|true|The Client ID for your account with OpenPass. For information about setting up your account and getting the Client ID, see [Setting Up Your Account](https://github.com/openpass-sso/openpass-docs/blob/main/getting-started.md#setting-up-your-account).|
|`response_type`|query|string|true|The OpenID Connect response type value. In this context, the `response_type` must be `code`.|
|`redirect_uri`|query|string|false|The URI on your publisher site, to which OpenPass redirects the user when the authentication flow is complete. It must exactly match one of the [redirect URI](https://github.com/openpass-sso/openpass-docs/blob/main/glossary.md#redirect-uri) values pre-registered in your account settings, including the case, and must be a valid URL, including HTTPS scheme. Example: `https://yoursite.com/sso_login`.<br /><br />NOTE: This parameter is not required if the optional `response_mode` parameter is included with a value of `post_message`.<br />|
|`scope`|query|string|true|The OpenID scope value, required as part of the OpenPass implementation of OpenID Connect. For OpenPass, the only valid value is `openid`. Any additional OpenID scope values are ignored.|
|`state`|query|string|true|An opaque value that is unique for each authorization request, used to maintain state between the request and the callback and to help prevent forgery attacks. The `state` value is generated by the client and returned by the authorization server. When authorization is complete, the client verifies that the value returned matches the value sent.|
|`code_challenge`|query|string|true|An additional security value, required by the OpenPass implementation of the [Proof Key for Code Exchange (PKCE)](https://github.com/openpass-sso/openpass-docs/blob/main/glossary.md#pkce) security standard to help verify that the authorization code was not intercepted. The value is generated by the publisher in the original request and optionally encoded (recommended).<br /><br />The authentication server stores the `code_challenge` and `code_challenge_method` values and uses them to validate the token request caller, `code_verifier`, per the [PKCE specification](https://datatracker.ietf.org/doc/html/rfc7636). For details, see [OpenPass Use of PKCE](https://github.com/openpass-sso/openpass-docs/blob/main/info/security.md#openpass-use-of-pkce). The following values are supported:<br /><br />- If `code_challenge_method` == `plain`, then `code_challenge` = `code_verifier`<br />- If `code_challenge_method` == `S256`, then `code_challenge` = `BASE64URL-ENCODE(SHA256(ASCII(code_verifier)))`<br />|
|`code_challenge_method`|query|string|false|If this parameter is included, the value must be one of the following:<br /><br />- `plain` (default value): The `code_challenge` value is used for the `code_verifier` value sent later in the [POST /v1/api/token](https://github.com/openpass-sso/openpass-docs/blob/main/api/v1/api-reference.md#post-v1apitoken) API call.<br />- `S256`: The `code_challenge` value is encoded and encrypted per the [PKCE specification](https://datatracker.ietf.org/doc/html/rfc7636) to create the `code_verifier` value sent in the [POST /v1/api/token](https://github.com/openpass-sso/openpass-docs/blob/main/api/v1/api-reference.md#post-v1apitoken) API call.<br />|
|`response_mode`|query|string|false|This parameter indicates how the response is sent to the client:<br /><br />- `redirect` (default and recommended value): The response is sent to the URL specified in the `redirect_uri` parameter.<br />- `post_message`: The response is sent using the JavaScript `window.postMessage` API.<br />|

#### Enum Values: Summary
The following table summarizes the enum values used in the request parameters.

|Parameter|Value|
|---|---|
|`response_type`|`code`|
|`code_challenge_method`|`S256`|
|`code_challenge_method`|`plain`|
|`response_mode`|`redirect`|
|`response_mode`|`post_message`|

#### Request Examples

```http
GET https://auth.myopenpass.com/v1/api/authorize?client_id=1122334455667788&response_type=code&scope=openid&state=aeaeb553-a6dc-495b-8bab-bf6d2d0f3a38&code_challenge=1c1d219f-1610-4174-8d24-d75c5cce875a

```

```shell
curl --request GET https://auth.myopenpass.com/v1/api/authorize?client_id=1122334455667788&response_type=code&scope=openid&state=aeaeb553-a6dc-495b-8bab-bf6d2d0f3a38&code_challenge=1c1d219f-1610-4174-8d24-d75c5cce875a

```

### Responses
The following table summarizes the HTTP response codes for this endpoint.

|Status|Meaning|
|---|---|
|302|[Found](https://tools.ietf.org/html/rfc7231#section-6.4.3)|

#### 302 - [Found](https://tools.ietf.org/html/rfc7231#section-6.4.3)
**Valid Request**

Redirects the user to the OpenPass sign-in form to continue the authentication flow.

When the sign-in flow is complete, the complete page does one of two things, based on the `response_mode` parameter provided to the `/v1/api/authorize` endpoint:
- `redirect` - The page performs a 302 redirect to the provided `redirect_uri`
- `post_message` - The page uses the [`window.postMessage`](https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage) JavaScript API to send a message back to the page that launched the popup window

The following parameters are supplied in both use cases, either as URL query parameters or as JavaScript properties on the object sent to the `window.postMessage` API:
- `code` - The authorization code to be used in exchange for the authentication tokens
- `state` - The value of the `state` parameter from the original request

**Failed Request**

If a failure happens during the authorization flow initialization, the authorization server responds in one of two ways:
- If the provided `redirect_uri` is supplied, and is valid according to the configured allowed redirect URLs for the client, the error results in a 302 redirect to the provided `redirect_uri`, with error parameters in the query string.
- If the `redirect_uri` was not supplied or was invalid, the OpenPass error page is shown.

The following parameters are supplied in both use cases, either as URL query parameters or as JavaScript properties on the object sent to the `window.postMessage` API:
- `error` - The code describing the error, detailed in the [OAuth specification](https://www.rfc-editor.org/rfc/rfc6749#section-4.1.2.1).
- `error_description` - Human-readable text providing additional information, used to assist the client developer in understanding the error that occurred.
- `state` - The `state` parameter provided in the request

Error codes returned by the authorization server:
 - `invalid_request` - The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed.
 - `unauthorized_client` - The client is not authorized to request an authorization code using this method.
 - `access_denied` - The resource owner or authorization server denied the request.
 - `unsupported_response_type` - The authorization server does not support obtaining an authorization code using this method.
 - `invalid_scope` - The requested scope is invalid, unknown, or malformed.
 - `server_error` - The authorization server encountered an unexpected condition that prevented it from fulfilling the request. (This error code is needed because a 500 Internal Server Error HTTP status code cannot be returned to the client by means of an HTTP redirect.)

For further information, see [Redirect Flow](https://github.com/openpass-sso/openpass-docs/blob/main/info/redirect-or-popup.md#redirect-flow).

##### Response Content

*No response content.*

#### Response Headers: Summary
The following table summarizes the HTTP headers that are returned with specific HTTP status codes.

|Status|Header|Type|Description|
|---|---|---|---|
|302|Location|string|The location to which the browser should redirect the user|

## POST /v1/api/token

Exchanges the authorization code for the OpenID Connect ID token and access token to finalize the OpenPass SSO authorization flow.

NOTE: The Basic Scheme Authorization header is required only when supplying a client secret (server-side integration). If no client secret is provided, the `client_id` parameter is required instead. These options are mutually exclusive.

The user's email address is in the `email` [claim](https://github.com/openpass-sso/openpass-docs/blob/main/glossary.md#claim) of the ID token. For more information, see [ID Token Details](https://github.com/openpass-sso/openpass-docs/blob/main/info/tokens-auth.md#id-token-details).

### Authentication

<aside class="warning">

To use this endpoint, you must be authenticated by means of:
Credentials

</aside>

### Request

`POST /v1/api/token`

#### Request Body

```yaml
grant_type: authorization_code
client_id: 1122334455667788
code_verifier: 762ac555-cabc-452b-972d-4aaaba9cfb2f
code: 1fa97f6b-8b4b-431c-bbbc-1686f13968f2
redirect_uri: https://your.site.com/sso_login

```

#### Parameters

|Name|In|Data Type|Required?|Description|
|---|---|---|---|---|
|`body`|body|object|false|None|
|`grant_type`|body|string|true|The OAuth 2.0 grant type. For OpenPass, the only valid value is `authorization_code`.|
|`client_id`|body|string|false|The Client ID for your account with OpenPass. Required only if not provided in the [Basic Scheme Authorization header](https://github.com/openpass-sso/openpass-docs/blob/main/glossary.md#basic-authorization-header), which should include the Client ID and Client Secret.<br />For information about setting up your account and getting the Client ID, see [Setting Up Your Account](https://github.com/openpass-sso/openpass-docs/blob/main/getting-started.md#setting-up-your-account).|
|`code_verifier`|body|string|true|The plain text code verifier value, corresponding to the value sent in the authorization request ([GET /v1/api/authorize](https://github.com/openpass-sso/openpass-docs/blob/main/api/v1/api-reference.md#get-v1apiauthorize)) in the `code_challenge` query parameter.|
|`code`|body|string|true|The authorization code that was returned as part of the redirect response to the [GET /v1/api/authorize](https://github.com/openpass-sso/openpass-docs/blob/main/api/v1/api-reference.md#get-v1apiauthorize) request.|
|`redirect_uri`|body|string|false|The URL on your publisher site, to which OpenPass redirects the user and sends the token. The value must exactly match both of the following, including the case:<br /><br />- One of the redirect URI values pre-registered in your account settings.<br />- The `redirect_uri` sent in the [GET /v1/api/authorize](https://github.com/openpass-sso/openpass-docs/blob/main/api/v1/api-reference.md#get-v1apiauthorize) request, if present.<br /><br />Example: `https://yoursite.com/sso_login`.<br /><br />If the value of the `response_mode` parameter in the [GET /v1/api/authorize](https://github.com/openpass-sso/openpass-docs/blob/main/api/v1/api-reference.md#get-v1apiauthorize) request is `post_message`, this parameter is not required. In this scenario, the response is sent using the `window.postMessage` API.|

#### Enum Values: Summary
The following table summarizes the enum values used in the request parameters.

|Parameter|Value|
|---|---|
|`grant_type`|`authorization_code`|

#### Request Examples

```http
POST https://auth.myopenpass.com/v1/api/token
Content-Type: application/x-www-form-urlencoded
Accept: application/json

grant_type=authorization_code&client_id=1122334455667788&code_verifier=762ac555-cabc-452b-972d-4aaaba9cfb2f&code=1fa97f6b-8b4b-431c-bbbc-1686f13968f2&redirect_uri=https://your.site.com/sso_login

```

```shell
curl --request POST https://auth.myopenpass.com/v1/api/token \
  --header 'Content-Type: application/x-www-form-urlencoded' \
  --header 'Accept: application/json'
  --data-urlencode 'grant_type=authorization_code' \
  --data-urlencode 'client_id=1122334455667788' \
  --data-urlencode 'code_verifier=762ac555-cabc-452b-972d-4aaaba9cfb2f' \
  --data-urlencode 'code=1fa97f6b-8b4b-431c-bbbc-1686f13968f2' \
  --data-urlencode 'redirect_uri=https://your.site.com/sso_login' \

```

### Responses
The following table summarizes the HTTP response codes for this endpoint.

|Status|Meaning|
|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|
|400|[Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)|
|401|[Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|

#### 200 - [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)
The response includes the consumer's ID token. For information about decoding the token, see [ID Token Details](https://github.com/openpass-sso/openpass-docs/blob/main/info/tokens-auth.md#id-token-details).

##### Response Content

Content Type: `application/json`

Schema:

|Name|Data Type|Required?|Description|
|---|---|---|---|
|`id_token`|string|true|The ID token issued by the authorization server, indicating that the user is now authenticated with OpenPass. For information about how to decode the `id_token` value, see [ID Token Details](https://github.com/openpass-sso/openpass-docs/blob/main/info/tokens-auth.md#id-token-details).|
|`token_type`|string|true|The type of access token returned. For OpenPass SSO, the value is always `Bearer`. The access token is a JWT [bearer](https://github.com/openpass-sso/openpass-docs/blob/main/glossary.md#bearer-token) token.|
|`access_token`|string|true|The access token issued by the OpenPass authorization server.|
|`expires_in`|integer(int64)|true|A value indicating the lifetime of the access token, expressed in seconds from when it was generated.|

#### Enum Values: Summary
The following table summarizes the enum values used in the response parameters.

|Property|Value|
|---|---|
|`token_type`|`Bearer`|

#### 400 - [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)
Bad request or unauthorized user response. OpenID Connect uses HTTP 400 for most unauthorized response types. It uses 401 only in error scenarios where the `Authorization` header is included in the request.

##### Response Content

Content Type: `application/json`

Description: An error returned by the API.

Schema:

|Name|Data Type|Required?|Description|
|---|---|---|---|
|`error`|string|true|The error code.<br><br>- `invalid_request` - The request is missing a required parameter, includes an unsupported parameter value (other than grant type), repeats a parameter, includes multiple credentials, uses more than one mechanism for authenticating the client, or is otherwise malformed.<br>- `invalid_client` - Client authentication failed (for example, unknown client, no client authentication included, or unsupported authentication method).<br>- `invalid_grant` - The provided authorization grant (for example, authorization code, resource owner credentials) or refresh token is invalid, expired, revoked, does not match the redirection URI used in the authorization request, or was issued to another client.<br>- `unauthorized_client` - The authenticated client is not authorized to use this authorization grant type.<br>- `unsupported_grant_type` - The authorization grant type is not supported by the authorization server.<br>- `invalid_scope` - The requested scope is invalid, unknown, malformed, or exceeds the scope granted by the resource owner.<br>- `server_error` - An unexpected error has occurred.<br><br>For more information on these error codes, see [Error Response](https://datatracker.ietf.org/doc/html/rfc6749#section-5.2) in the OAuth 2.0 specification.|
|`error_description`|string|true|The description of the error, along with any assistance to help resolve it.|
|`error_uri`|string|false|The URI of the error.|

#### Enum Values: Summary
The following table summarizes the enum values used in the response parameters.

|Property|Value|
|---|---|
|`error`|`invalid_request`|
|`error`|`invalid_client`|
|`error`|`invalid_grant`|
|`error`|`unauthorized_client`|
|`error`|`unsupported_grant_type`|
|`error`|`invalid_scope`|
|`error`|`server_error`|

#### 401 - [Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)
Unauthorized user response.

 If the `Authorization` header was supplied in the request, with a client secret value, and there is an error, the authorization server returns an HTTP 401 response. The response includes a WWW-Authenticate header that matches the scheme specified in the request header.

##### Response Content

Content Type: `application/json`

Description: An error returned by the API.

Schema:

|Name|Data Type|Required?|Description|
|---|---|---|---|
|`error`|string|true|The error code.<br><br>  - `invalid_client` - Client authentication failed (for example, unknown client, no client authentication included, or unsupported authentication method).<br>  - `server_error` - An unexpected error has occurred.|
|`error_description`|string|true|The description of the error, along with any assistance to help resolve it.|
|`error_uri`|string|false|The URI of the error.|

#### Enum Values: Summary
The following table summarizes the enum values used in the response parameters.

|Property|Value|
|---|---|
|`error`|`invalid_client`|
|`error`|`server_error`|

#### 500 - [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)
The server encountered an error. It could be a general error, such as network failure or a temporary database issue.

##### Response Content

Content Type: `application/json`

Description: An error returned by the API.

Schema:

|Name|Data Type|Required?|Description|
|---|---|---|---|
|`error`|string|true|The error code.|
|`error_description`|string|true|The description of the error, along with any assistance to help resolve it.|
|`error_uri`|string|false|The URI of the error.|

#### Response Headers: Summary
The following table summarizes the HTTP headers that are returned with specific HTTP status codes.

|Status|Header|Type|Description|
|---|---|---|---|
|401|WWW-Authenticate|string|The authorization scheme requested in the `Authorization` header|

#### Response Examples
> 200 Response

```json
{
  "id_token": "eyJraWQiOiJUc1F0cG5ZZmNmWm41ZVBLRWFnaDNjU1lGcWxnTG91eEVPbU5YTVFSUWVVIiwidHlwIjoiSldUIiwiYWxnIjoiUlMyNTYifQ.eyJ1aWQyX3J0IjoiQTNBQUFBRlNtM3d5aEpER1NtNFFrazBrQjZTaFBlbW8wOVdhUm02T2J1b3lQSXlYQU9ieFJmTEp6UlViRUlxTFlVR0IwQkVBa1FpeUVBWm1pdUk4OGxlQ2VWTDl6Q2c2YW5mME5GZ0JSMFJaSTJVbGFkdFh2V1IraXNxd0ZDeWZ2VDV3akVabkpiMm9JVnNjam9uWjhYV0lPc0dDeXJBY3JMT0xpdz09Iiwic3ViIjoidGVzdEB0ZXN0LmNvbSIsImF1ZCI6IjI5MzUyOTE1OTgyMzc0MjM5ODU3IiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4ODg4IiwidWlkMl9yZXhwIjoxNjYyMTQ0ODU0NDg1LCJleHAiOjE2NjIxNDQ4NTQsImlhdCI6MTY1OTU1Mjg1NCwidWlkMl9yZnJvbSI6MTY1OTU1MzE1NDQ4NSwidWlkMl9pZXhwIjoxNjU5NTUzNzU0NDg1LCJ1aWQyX2F0IjoiQWdBQUFWRlZrWDUwdVFNbUszUXRkMlR6bGc0UVNjaWNzczhrK1docEtRaHdMMUJWV2tMOU1vQkVsMCs1R01HS2hyc0JCME9HcWk4NUhKQzgxQXRrMktRRFhlZVBuS1lWWmxWT25vWUxYWXJ0dytnOWNEdmg2QXJRTmd5dnlpN0VaNEZLZ1k4ck9yUmpySTlJRUFqemI1VEo1RW0rV0MxOENQQm5iNkZrMjVvUWE0SVJKUT09In0.hA4pupmhpa-Hb0XaJBbOQBQFI5Q-cZRWCHlR0xrHCqVKv00FEiw9oIDOtFfG6nwrHhfYNdiWiYNxvbDEcX7Db3Q6X4kuYDcVKJYg2V1z6LoPXN3qQqi2kbmACRFyWos-leO4pDXpwD_PJy1RUkD83aSAZA7TqNdB3cC9-OiVEBok4oxX8vJYTsL9hW8sGu6ZqqPMHJFYdHyngY8s6CTE294gIVfI8mOpPKOHWWkvDCK3Su10D0wh3l8RKM8j8KJffO9UtK4B2BQgLj_TlsbEuGHvSoxOnggjNp66PkxGiY8bI_He1kssAjL1Y5a2OGoteTYW6Tdy0XHCzKNXrxiEbw",
  "token_type": "Bearer",
  "access_token": "eyJraWQiOiJUc1F0cG5ZZmNmWm41ZVBLRWFnaDNjU1lGcWxnTG91eEVPbU5YTVFSUWVVIiwidHlwIjoiSldUIiwiYWxnIjoiUlMyNTYifQ.eyJpc3MiOiJodHRwOi8vbG9jYWxob3N0Ojg4ODgiLCJleHAiOjE2NjIxNDQ4NTQsImlhdCI6MTY1OTU1Mjg1NH0.Yh1NpgBtEM-frS2Xz_CfxAcAxyjqu1t5q8Y5ZrhHGI7hmjzYFn9w4ewv8-b0SB-u1Q_woviu1f5alOAQwBPXxO6k8KoY5w6BsihJgcwZ9hDrETbxNZhPibMGuiSgTzeWlGnY1iFZFsm0M-NyCWARn9jQDN07oFK-OZXdrD1YaujIlFi0iFxsW1ZK-cqSsmQKm9KzhdvCAJFvsu0rz9Hs9Qqg8rMz4uisnlXpjpZfbERKUPG69Mx5YlTlj4YRjHIz6jsogN_bahLNzSChiobZSA1ta5zwk110hk-8mZmV78B-O9e_Hb-ZparWPY6GIrEpk4eFtahHGOiY1qZ1aKNySg",
  "expires_in": 86400
}
```

# Well-Known Endpoints

## GET /.well-known/openid-configuration

Returns the [OpenID Connect](https://github.com/openpass-sso/openpass-docs/blob/main/glossary.md#openid-connect) configuration values for the OpenPass authentication server, from the OpenPass well-known configuration endpoint.

For details, see [Obtaining OpenID Provider Configuration Information](https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderConfig) in the OpenID Connect Discovery 1.0 specification.

### Authentication

<aside class="success">
This endpoint does not require authentication.
</aside>

### Request

`GET /.well-known/openid-configuration`

No parameters required.

#### Request Examples

```http
GET https://auth.myopenpass.com/.well-known/openid-configuration
Accept: application/json

```

```shell
curl --request GET https://auth.myopenpass.com/.well-known/openid-configuration \
  --header 'Accept: application/json'

```

### Responses
The following table summarizes the HTTP response codes for this endpoint.

|Status|Meaning|
|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|

#### 200 - [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)
The response is the configuration file for OpenPass, containing the values needed for connecting with OpenPass APIs to use the service.

##### Response Content

Content Type: `application/json`

Schema:

|Name|Data Type|Required?|Description|
|---|---|---|---|
|`issuer`|string|true|The fully qualified issuer URL of the server.|
|`authorization_endpoint`|string|true|The fully qualified URL of the server's [GET /v1/api/authorize](https://github.com/openpass-sso/openpass-docs/blob/main/api/v1/api-reference.md#get-v1apiauthorize) endpoint.|
|`token_endpoint`|string|true|The fully qualified URL of the server's [POST /v1/api/token](https://github.com/openpass-sso/openpass-docs/blob/main/api/v1/api-reference.md#post-v1apitoken) endpoint.|
|`jwks_uri`|string|true|The fully qualified URL for the [GET /.well-known/jwks](https://github.com/openpass-sso/openpass-docs/blob/main/api/v1/api-reference.md#get-well-knownjwks) endpoint, where you can get the information about the [JSON web key set](https://github.com/openpass-sso/openpass-docs/blob/main/glossary.md#json-web-key-set) for OpenPass.|
|`scopes_supported`|[string]|true|The list of scopes that this server supports. For OpenPass, the scope value is always `openid`.|
|`response_types_supported`|[string]|true|The list of response types that this server supports. For OpenPass, the response type is always `code`.|
|`grant_types_supported`|[string]|true|The list of grant types that this server supports. For OpenPass, the grant type is always `authorization_code`.|
|`subject_types_supported`|[string]|true|The list of subject types that this server supports. For OpenPass, the `subject_types_supported` value is always `public`.|
|`id_token_signing_alg_values_supported`|[string]|true|The list of token signing algorithms that this server supports. For OpenPass, the ID token signature algorithm is always `RS256`.|
|`token_endpoint_auth_signing_alg_values_supported`|[string]|true|The list of token endpoint auth signing algorithms that this server supports. For OpenPass, the only JWS signing algorithm (`alg` value) supported for the ID token to encode the claims in the JWT is `RS256`.|

#### 500 - [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)
The server encountered an error. It could be a general error, such as network failure or a temporary database issue.

##### Response Content

Content Type: `application/json`

Description: An error returned by the API.

Schema:

|Name|Data Type|Required?|Description|
|---|---|---|---|
|`error`|string|true|The error code.|
|`error_description`|string|true|The description of the error, along with any assistance to help resolve it.|
|`error_uri`|string|false|The URI of the error.|

#### Response Examples
> 200 Response

```json
{
  "issuer": "https://auth.myopenpass.com\"",
  "authorization_endpoint": "https://auth.myopenpass.com/v1/api/authorize",
  "token_endpoint": "https://auth.myopenpass.com/v1/api/token",
  "jwks_uri": "https://auth.myopenpass.com/.well-known/jwks",
  "scopes_supported": "openid",
  "response_types_supported": "code",
  "grant_types_supported": [
    "authorization_code"
  ],
  "subject_types_supported": [
    "public"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "token_endpoint_auth_signing_alg_values_supported": [
    "RS256"
  ]
}
```

## GET /.well-known/jwks

Returns the [JSON Web Key Set (JWKS)](https://github.com/openpass-sso/openpass-docs/blob/main/glossary.md#json-web-key-set) values for the OpenPass authentication server.

For details, see [JWK Set Format](https://www.rfc-editor.org/rfc/rfc7517.html#section-5) in the JSON Web Key (JWK) specification.

You can call this endpoint to identify the key set that was used to sign the ID token returned in the response to the [POST /v1/api/token](https://github.com/openpass-sso/openpass-docs/blob/main/api/v1/api-reference.md#post-v1apitoken) API call. Successful verification of the signature using the sender's public key confirms the identity of the sender.

### Authentication

<aside class="success">
This endpoint does not require authentication.
</aside>

### Request

`GET /.well-known/jwks`

No parameters required.

#### Request Examples

```http
GET https://auth.myopenpass.com/.well-known/jwks
Accept: application/json

```

```shell
curl --request GET https://auth.myopenpass.com/.well-known/jwks \
  --header 'Accept: application/json'

```

### Responses
The following table summarizes the HTTP response codes for this endpoint.

|Status|Meaning|
|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|

#### 200 - [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)
The JWT signing keys.

##### Response Content

Content Type: `application/json`

Schema:

|Name|Data Type|Required?|Description|
|---|---|---|---|
|`keys`|[object]|true|An array of the JWT signing keys.|
|`kid`|string|false|The Key ID, a unique value that you can use to identify a specific key.|
|`kty`|string|false|The key type, a value that identifies the cryptographic algorithm family used with the key, expressed as a case-sensitive string (for example, RSA or EC).|
|`e`|string|false|The exponent value for the public key, represented as a Base64urlUInt-encoded value.|
|`n`|string|false|The modulus value for the public key, represented as a Base64urlUInt-encoded value.|

#### 500 - [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)
The server encountered an error. It could be a general error, such as network failure or a temporary database issue.

##### Response Content

Content Type: `application/json`

Description: An error returned by the API.

Schema:

|Name|Data Type|Required?|Description|
|---|---|---|---|
|`error`|string|true|The error code.|
|`error_description`|string|true|The description of the error, along with any assistance to help resolve it.|
|`error_uri`|string|false|The URI of the error.|

#### Response Examples
> 200 Response

```json
{
  "keys": [
    {
      "kid": "0OmCZ-__YJtXgghTVZ5NL_PUMET-dC7tEq8SNEibdwA",
      "kty": "RSA",
      "e": "AQAB",
      "n": "vuKlRHBz5IZpVMxykxY1SeKCp2t4kPKDIWTvaZa6gLjBEQ_7P_kwZjPS96xHu1PDM5RJxvFMTHfQ6h0-d7o9y78dqChxDTTYHVhBcw4v_Qtzvh37vTRAZ3skvEm0wqMmgonNPrdObkJ0pyGkVD6mjoyOPARwoQAOTabfcETjY6a1BidfhToetHSBfZU3F8sw03XDe0cznayIkXxUiGeXqpar_SwIpL9IrpRzfYZzZTVlNVHetL4UmJHROh5H5QR5xZsigohJJO08lWL_fq4btBndg23RPZo2YpgyMrNxbVlKD_z-iBV9aWVi5lvvYwb_wcejyTy_zi8Uop4Apbprtw"
    }
  ]
}
```

## GET /.well-known/security.txt

Gets the `security.txt` file for security researchers.

### Authentication

<aside class="success">
This endpoint does not require authentication.
</aside>

### Request

`GET /.well-known/security.txt`

No parameters required.

#### Request Examples

```http
GET https://auth.myopenpass.com/.well-known/security.txt
Accept: text/plain

```

```shell
curl --request GET https://auth.myopenpass.com/.well-known/security.txt \
  --header 'Accept: text/plain'

```

### Responses
The following table summarizes the HTTP response codes for this endpoint.

|Status|Meaning|
|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|

#### 200 - [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)
The `security.txt` file contents. For more information, see [https://securitytxt.org/](https://securitytxt.org/).

##### Response Content

Content Type: `text/plain`<br />
Response Type: `string`

#### 500 - [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)
The server encountered an error. It could be a general error, such as network failure or a temporary database issue.

##### Response Content

Content Type: `application/json`

Description: An error returned by the API.

Schema:

|Name|Data Type|Required?|Description|
|---|---|---|---|
|`error`|string|true|The error code.|
|`error_description`|string|true|The description of the error, along with any assistance to help resolve it.|
|`error_uri`|string|false|The URI of the error.|

#### Response Examples
> 200 Response

```
"-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA256\n\n# Our security address\nContact: mailto:openpass-security@thetradedesk.com\n\n# Canonical URI\nCanonical: https://auth.myopenpass.com/.well-known/security.txt\n\n# Our OpenPGP key\nEncryption: https://auth.myopenpass.com/.well-known/pgp-key.txt\n\n# Our preferred language\nPreferred-Languages: en\n\n# Expiry\nExpires: 2024-11-20T00:00:00Z\n-----BEGIN PGP SIGNATURE-----\n\niQJXBAEBCABBFiEEVNHpK8zaDVVL3DMsLFaExOouFUMFAmN7+CwjHG9wZW5wYXNz\nLXNlY3VyaXR5QHRoZXRyYWRlZGVzay5jb20ACgkQLFaExOouFUPU0Q/9EJlS7xpL\n0+xpxRvv87pnw3/+WuADqk/dmlnXo/hqXC7KM1WVUGavz1EqgTUezq3SirbNtEWS\nj0kTg07heN8JLy7lf8NItHz8azbc6tgzBlwHkrySZWYmCWu0zqLGl0YCKd1XogKu\nRjO3F7pCZNaoGSYBmwXjxZEAwyrvV4IGMNas/Hqp0L434QnM4DR9DZwkZSQSIpW6\nA43P6c0P+kJZ4V+d6G/bzPy62kUnhbBlyGSX9VBoSlwtd2kinbGy+rH3otZff0Dd\njJ6J9cR3FZ9vxq41/+YVxEwIpTKxxOkM/ggcECAxz/RFDyi1hLQrnewcgN8+irxH\nyemc5pzaGV5hAL5QWAulZxTipqdf4XQ/PVhtYi2qpliJRFqOGEp85gE0eqEUYZu/\nsaNtZIHWJVfgPyyDm43lJN59bZUYs/zuuAWLyu/lyTplF9CXtB30HrYYdQn4RHLy\n/cW5KQokZwwNh7ROhRKzDAAnU+JuSKfo8LtDzJkOmEFOk+IAcw+XVsW03TMOeA6w\nULmD9COB1W29BaWS0sPDMVeP6NLrHAzp+6IDpoNcojqc5F2ff/ixPCvALgSc0nDb\nFfmoSzeVoHffIZh842m9FAsJzN7338YKJjlZH2vF0wgXNoNnY0PXalfWRKG2O9BL\nVaikxP55Dy2bL9meUe8qIn2W2hRg758+eUc=\n=wXDH\n-----END PGP SIGNATURE-----\n"
```

> 500 Response

```json
{
  "error": "server_error",
  "error_description": "An unexpected error has occurred.",
  "error_uri": "https://auth.myopenpass.com"
}
```

## GET /.well-known/pgp-key

Gets the [PGP](https://github.com/openpass-sso/openpass-docs/blob/main/glossary.md#pgp) public key used to validate the signature of the `security.txt` file.

### Authentication

<aside class="success">
This endpoint does not require authentication.
</aside>

### Request

`GET /.well-known/pgp-key`

No parameters required.

#### Request Examples

```http
GET https://auth.myopenpass.com/.well-known/pgp-key
Accept: application/pgp-keys

```

```shell
curl --request GET https://auth.myopenpass.com/.well-known/pgp-key \
  --header 'Accept: application/pgp-keys'

```

### Responses
The following table summarizes the HTTP response codes for this endpoint.

|Status|Meaning|
|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|

#### 200 - [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)
The PGP public key.

##### Response Content

Content Type: `application/pgp-keys`<br />
Response Type: `string`

#### 500 - [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)
The server encountered an error. It could be a general error, such as network failure or a temporary database issue.

##### Response Content

Content Type: `application/json`

Description: An error returned by the API.

Schema:

|Name|Data Type|Required?|Description|
|---|---|---|---|
|`error`|string|true|The error code.|
|`error_description`|string|true|The description of the error, along with any assistance to help resolve it.|
|`error_uri`|string|false|The URI of the error.|

#### Response Examples
> 200 Response

> 500 Response

```json
{
  "error": "server_error",
  "error_description": "An unexpected error has occurred.",
  "error_uri": "https://auth.myopenpass.com"
}
```

## GET /.well-known/open-api-v1

Gets the OpenPass API V1 specification in YAML format.

### Authentication

<aside class="success">
This endpoint does not require authentication.
</aside>

### Request

`GET /.well-known/open-api-v1`

No parameters required.

#### Request Examples

```http
GET https://auth.myopenpass.com/.well-known/open-api-v1
Accept: application/yaml

```

```shell
curl --request GET https://auth.myopenpass.com/.well-known/open-api-v1 \
  --header 'Accept: application/yaml'

```

### Responses
The following table summarizes the HTTP response codes for this endpoint.

|Status|Meaning|
|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|

#### 200 - [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)
The OpenPass API V1 specification.

##### Response Content

Content Type: `application/yaml`<br />
Response Type: `string`

#### 500 - [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)
The server encountered an error. It could be a general error, such as network failure or a temporary database issue.

##### Response Content

Content Type: `application/json`

Description: An error returned by the API.

Schema:

|Name|Data Type|Required?|Description|
|---|---|---|---|
|`error`|string|true|The error code.|
|`error_description`|string|true|The description of the error, along with any assistance to help resolve it.|
|`error_uri`|string|false|The URI of the error.|

#### Response Examples
> 200 Response

> 500 Response

```json
{
  "error": "server_error",
  "error_description": "An unexpected error has occurred.",
  "error_uri": "https://auth.myopenpass.com"
}
```

